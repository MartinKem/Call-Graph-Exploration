<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.3/d3.min.js"></script>
    <script src="Edges.js"></script>
    <script src="nodes.js"></script>
	<script src="jsonPars.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <link href="style.css" rel="stylesheet" type="text/css">
    <title>D3 Graph</title>
</head>
<body>
	<div id="load_page">
		<!--Filereader fÃ¼r JSON Datei-->
		  <form id="jsonFile" name="jsonFile" enctype="multipart/form-data" method="post">
			<fieldset>
			  <h2>Json File</h2>
			  <div id="dropZone">You can Drop files here <br />
				<input type='file' id='fileinput' onchange="setProgBarToZero(); loadFile()">
			  </div> <br />

			  <div id="progress_bar">
				<div id="progress" class="percent">0%</div>
			  </div> <br />

			</fieldset>
		  </form>

		  <!--Seiteninhalt-->
		  <p>Immer erst laden ehe einer der Schaltflaechen unten gedrueckt wird</p>
		  <input type="text" name="enter" class="enter" value="" id="text">
		  <button type="button" onclick="setElement()">Pruefen ob Enthalten</button>
		  <button type="button" onclick="setElement2()">Alle Klassennamen anzeigen</button>
		  <p id="demo">Text</p>

	</div>

	<div id="graph_page" class="invis">
		<button id="btn" onclick="open_close()">Hide Details</button>
		<div id='graph' style="position: relative; font-family: Helvetica"></div>
	</div>

	<script>
		//var rect_width = 300, rect_height = 200;

		var svgCont = d3.select("#graph")
			.append("svg");
			
		svgCont.append("defs").attr("id", "definitions");
		
		var vis = svgCont.append("foreignObject").attr("width", "100%").attr("height", 2000).attr("position","relative");
		
		// let testNode = new node(0, -1, vis, 1200, 200, "ClassNode", ["Foo.<init>","Bar.<init>","Foo.m","String.toString"]);
		// let childNode = testNode.addChild(1, 800, 500, 0, "ChildNode", ["Foo.<init>", "String.toString"]);
		// testNode.showChildNodes(0);
		// childNode.showChildNodes(1);

	</script>
	<script>
		var i = 0;
		function open_close() {
			if (i===0){
				d3.selectAll(".node_inhalt").style("display","none");
				d3.selectAll(".edge").each(function(){
					var id = d3.select(this).attr("id");
					toggleToAbstract(id);
				});
				// d3.selectAll(".node_inhalt").style("visibility","hidden");
				document.getElementById("btn").innerText = "Show details";
				i++;
			}else {

				// d3.selectAll(".node_inhalt").style("visibility","visible");
				d3.selectAll(".node_inhalt").style("display","block");
				d3.selectAll(".edge").each(function(){
					var id = d3.select(this).attr("id");
					toggleToDetailed(id);
				});
				document.getElementById("btn").innerText = "Hide details";
				i=0;
			}
			return;
		}
	</script>
	<script src="parsJson.js"></script>
	<script src="jsonparser+sucher.js">//Import von JvaScript Datei zum suchen in der Json Datei</script>
	<script src="rightclickmenu.js"></script>
</body>
</html>